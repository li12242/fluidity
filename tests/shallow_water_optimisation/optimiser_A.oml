<?xml version='1.0' encoding='utf-8'?>
<optimiser_options>
  <name>
    <string_value lines="1">shallow_water_optimisation_A</string_value>
  </name>
  <model command_line="../../bin/shallow_water" option_file="adjoint_A.swml"/>
  <functional name="integral_eta_t1"/>
  <optimisation_options>
    <optimisation_algorithm name="NCG"/>
    <tolerance>
      <real_value rank="0">1e-10</real_value>
    </tolerance>
  </optimisation_options>
  <control_io>
    <type name="custom">
      <get_initial_controls>
        <string_value lines="20" type="python">def get_initial_controls():
  import numpy
  m = {}
  h = numpy.array([1])
  m['h'] = h
  return m</string_value>
      </get_initial_controls>
      <update_controls>
        <string_value lines="20" type="python">def update_controls(m):
  import numpy
  h = m['h']
  numpy.save('control.npy', h)
  print 'control state: ', h</string_value>
      </update_controls>
    </type>
  </control_io>
</optimiser_options>
